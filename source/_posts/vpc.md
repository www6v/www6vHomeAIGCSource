---
title: VPC
date: 2022-04-09 22:30:00
tags:
  - 云计算
categories:
  - 分布式
  - 云计算  
  - VPC
---

<p></p>
<!-- more -->


## 概念

+ 虚拟私有网络(Virtual Private Cloud，简称 VPC)
+ 网段: 通常用 CIDR 来表达;
+ 子网: 阿里云中把子网形象地称为“交换机”;
+ 路由表: 每个子网都必须有一张关联的路由表;
+ 网关: 对进出私有网络的流量进行把守和分发的重要节点;
+ 安全组: 虚拟机进出流量的通行或拦截规则, 可以起到虚拟机网络防火墙的作用;

## 高可用性
**VPC的子网可以跨可用区(AZ), 也就是跨同区域内不同数据中心的私有网络**


## 弹性网卡(Elastic Network Interface-ENI)
##### 特性
+ 一个虚拟机可以绑定多块网卡，有主网卡和辅助网卡之分;
+ 一块网卡隶属于一个子网，可以配置同一子网内的多个私有 IP;
+ 辅助网卡可以动态解绑，还能够绑定到另一台虚拟机上。

##### 绑定
新虚拟机自动生成的主网卡，接入了 所选 VPC 的所选子网。

## 弹性 IP(Elastic IP-EIP)
+ EIP的IP 是固定
+ 弹性：指可以非常自由地解绑和再次绑定到任意目标
+ DNS服务绑定EIP


## 在 VPC 上“开口子”
##### 需求
  + 弹性 IP 带来的是双向的开放，有时我们只想允许单向的连接
  + 如何允许多台没有公有 IP 的虚拟机访问外网

##### 方案
NAT(Network Address Translation)网关
VPN 网关


## 多网连接
##### 对等连接(VPC Peering)
不具备传递性

##### 专用网络设施
AWS 的 Transit Gateway
阿里云的云企业网


## 混合云架构(复杂)
##### VPN 轻量方式
##### 专线
AWS 的 Direct Connect
Azure 的 ExpressRoute 
阿里云的“高速通道”


## 参考：
06 | 云上虚拟网络:开合有度，编织无形之网



